<!--
Copyright (C) 2018 Eclipse Foundation

This program and the accompanying materials are made
available under the terms of the Eclipse Public License 2.0
which is available at https://www.eclipse.org/legal/epl-2.0/

SPDX-License-Identifier: EPL-2.0
-->
<div class="notification">
        
    <h3 class="title is-3">Research projects</h3>

    <div class="pageloader is-active is-right-to-left" *ngIf="isUpdatingProjects"><span class="title">Updating project...</span></div>

    <strong>Import</strong>

    <form [formGroup]="dataForm" (ngSubmit)="importProjects()">

        <p [hidden]="!badData">Bad data. First line should be:<br> {{ projectsCsvFirstLine }}</p>

        <p>Importing projects will first erase every stored projects. Make sure you already did an export.</p>

        <div class="field">
            <textarea [placeholder]="projectsCsvFirstLine" formControlName="csvData" class="textarea" rows="10"></textarea>
        </div>

        <div class="field is-grouped">
            <div class="control">
                <button type="submit" [disabled]="!dataForm.valid" class="button is-link">Import projects</button>
            </div>
        </div>

    </form>

    <br>
    
    <strong>Export</strong>

    <div class="field is-grouped">
        <div class="control">
            <button type="button" class="button is-link" (click)="exportProjects()">Download projects as CSV</button>
        </div>
    </div>

</div>
